require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var a=e[n]=new t.Module;r[n][0].call(a.exports,i,a,a.exports)}return e[n].exports}function o(){this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({3:[function(require,module,exports) {

},{}],4:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),e=require("./../css/timelapse.css"),a=i(e);function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(e){function a(t){s(this,a);var e=n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return e.state={currentImage:"",loaded:!1},e.data={title:"Time-lapse Player",desc:"",cacheSize:10,autoPlay:!1,speed:100,root:"",images:[]},e.imageIndex=0,e.timeoutid=0,e}return o(a,React.Component),t(a,[{key:"componentDidMount",value:function(){$.get(this.props.imageSource,function(t,e){this.data=t,this.data.images.length>0?(this.setState({loaded:!0,currentImage:this.data.root+this.data.images[0].url}),this.data.autoPlay&&this.onPlay()):this.setState({loaded:!0})}.bind(this))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutid)}},{key:"render",value:function(){var t=this,e={width:(this.data.images.length?(this.imageIndex+1)*$(this._sliderOuter).width()/this.data.images.length:0)+"px"},a={display:this.state.loaded?"":"none"};return React.createElement("div",{className:"tl-timelapse"},React.createElement("div",{className:"tl-text"},this.data.title),React.createElement("img",{className:"tl-cameraimage",src:this.state.currentImage}),React.createElement("div",{className:"tl-sliderouter",style:a,ref:function(e){return t._sliderOuter=e},onClick:this.onSkip.bind(this)},React.createElement("div",{className:"tl-sliderinner",style:e})),React.createElement("ul",{className:"tl-controls",style:a},React.createElement("li",{className:"tl-control fa fa-backward",onClick:this.onRewind.bind(this)}),React.createElement("li",{className:"tl-control fa fa-step-backward",onClick:this.onPrevious.bind(this)}),React.createElement("li",{className:"tl-control fa fa-play",onClick:this.onPlay.bind(this)}),React.createElement("li",{className:"tl-control fa fa-pause",onClick:this.onPause.bind(this)}),React.createElement("li",{className:"tl-control fa fa-stop",onClick:this.onStop.bind(this)}),React.createElement("li",{className:"tl-control fa fa-step-forward",onClick:this.onNext.bind(this)}),React.createElement("li",{className:"tl-control fa fa-forward",onClick:this.onForward.bind(this)})))}},{key:"updateState",value:function(t){if(this.preLoad=[],t)for(var e=this.imageIndex;e<Math.min(this.imageIndex+this.data.cacheSize,this.data.images.length);e++){var a=new Image;a.src=this.data.root+this.data.images[e].url,this.preLoad.push(a)}else for(e=Math.max(0,this.imageIndex-this.data.cacheSize);e<Math.min(Math.max(0,this.imageIndex-this.data.cacheSize)+10,this.data.images.length);e++){var i=new Image;i.src=this.data.root+this.data.images[e].url,this.preLoad.push(i)}this.setState({currentImage:this.data.root+this.data.images[this.imageIndex].url})}},{key:"update",value:function(){this.imageIndex++,this.imageIndex>=this.data.images.length||(this.updateState(!0),this.timeoutid=setTimeout(this.update.bind(this),this.data.images[this.imageIndex].speed?this.data.images[this.imageIndex].speed:this.data.speed))}},{key:"onRewind",value:function(){clearTimeout(this.timeoutid),this.imageIndex=0,this.updateState(!0)}},{key:"onPlay",value:function(){clearTimeout(this.timeoutid),(this.imageIndex>=this.data.images.length-1||0==this.imageIndex)&&(this.imageIndex=-1),this.update()}},{key:"onPrevious",value:function(){clearTimeout(this.timeoutid),this.imageIndex>0&&(this.imageIndex--,this.updateState(!1))}},{key:"onNext",value:function(){clearTimeout(this.timeoutid),this.imageIndex<this.data.images.length-1&&(this.imageIndex++,this.updateState(!0))}},{key:"onStop",value:function(){clearTimeout(this.timeoutid),this.imageIndex=0,this.updateState(!0)}},{key:"onPause",value:function(){clearTimeout(this.timeoutid)}},{key:"onForward",value:function(){clearTimeout(this.timeoutid),this.imageIndex=this.data.images.length-1,this.updateState(!0)}},{key:"onSkip",value:function(t){this.imageIndex=Math.floor(1*t.nativeEvent.offsetX/(1*$(t.currentTarget).width())*this.data.images.length),this.updateState(!0)}}]),a}();exports.default=r;
},{"./../css/timelapse.css":3}],1:[function(require,module,exports) {
"use strict";"use-strict";var e=require("./../css/main.css"),t=a(e),r=require("./timelapse.js"),s=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function n(){ReactDOM.render(React.createElement(s.default,{imageSource:"./json/timelapse.json"}),$(".time-lapse-wrapper")[0])}$(document).ready(function(){n()});
},{"./../css/main.css":3,"./timelapse.js":4}]},{},[1])